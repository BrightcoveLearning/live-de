---
title: Signierte URLs und Token Auth mit einem Livestream
description: 'In diesem Thema erfahren Sie, wie Sie signierte URLs und Token-Authentifizierung verwenden, um zu verhindern, dass Endbenutzer Ihren Livestream ohne entsprechende Autorisierung wiedergeben können.'
parent: Guides 
grandparent: Live API
---
 <h1>Diese Seite ist umgezogen - Sie werden weitergeleitet zum <a href="https://apis.support.brightcove.com/live-api/guides/signed-urls-and-token-auth-live-stream.html">neuen Ort</a> in 3 Sekunden. Bitte aktualisiere deine Lesezeichen!</h1>
<script type="text/javascript">
var t = setTimeout (Funktion () { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/signed-urls-and-token-auth-live-stream.html'; }, 3000);
</script>
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="Overview">Überblick</h2>

<p>Wenn Sie Premium- oder vertrauliche Inhalte bereitstellen, werden Sie nach allen Möglichkeiten suchen, um sicherzustellen, dass diese sicher bleiben. Sie möchten nicht, dass Endbenutzer ohne die entsprechende Berechtigung Video-URLs kopieren oder Inhalte wiedergeben können. Brightcove unterstützt das Signieren von RTMP-, HLS- und DASH-URLs.</p>

<p>Wenn Sie Ihr eigenes Token generieren, gibt es einen Schritt für diesen Prozess. Wenn das Live-System eine Token-URL generieren soll, sind zwei Schritte erforderlich, die in den folgenden Abschnitten beschrieben werden, um die Token-Authentifizierung für Live-Streams zu aktivieren.</p>

<aside class="bcls-aside bcls-aside--information">Derzeit wird die Token-Authentifizierung nur mit Akamai EdgeAuth 2.0 unterstützt.</aside>
</section>

<section id="Implementation" class="bcls-section">
<h2>Implementierung</h2>

<aside class="bcls-aside bcls-aside--information">Hinweis: Wenn Sie Ihr eigenes Token erstellen und es der URL hinzufügen, sollten Sie nur Schritt 1 ausführen.</aside>

<h3>Schritt 1: Erstellen des Live-Jobs</h3>

<p>Um die Tokenauthentifizierung zu aktivieren, fügen Sie Folgendes in den Anforderungshauptteil ein, wenn Sie <a href="/live-api/references/reference.html#api-Live_Jobs-Create_a_Live_Job">einen Job erstellen</a>::</p>

<pre class="line-numbers">
  <code class="language-json" translate="No">"add_cdns": [{
    "label": "My CDN",
    "prepend": "mycdn-a.akamaihd.net",
    "protocol": "https",
    "vendor": "akamai",
    "token_auth": {
      "auth_type": "Akamai2.0",
      "key": "AKAMAI_TOKEN_PASSWORD",
      "token_name": "AKAMAI_TOKEN_NAME",
      "media": {
        "start_time": "now",
        "end_time": 1495697388,
        "ttl": 60
      }
    }
  }]</code></pre>

<p>Die relevanten Felder sind in der folgenden Tabelle beschrieben:</p>

<table class="bcls-table">
	<caption class="bcls-caption--table">TTL-Felder für Live-Jobs</caption>
	<thead class="bcls-table__head">
		<tr>
			<th>Feld</th>
			<th>Wert</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td ><code translate="No">start_time</code></td>
			<td >entweder <code translate="No">now</code> oder eine Unix / Posix-Startzeit</td>
		</tr>
		<tr>
			<td ><code translate="No">end_time</code></td>
			<td >Endzeit von unix/posix</td>
		</tr>
		<tr>
			<td ><code translate="No">ttl</code></td>
			<td >Zahl in Sekunden für die Zeit zu leben</td>
		</tr>
	</tbody>
</table>

<h3>Schritt 2: Nachdem der Live-Job erstellt wurde</h3>

<aside class="bcls-aside bcls-aside--information">Führen Sie diesen Schritt nur aus, wenn Sie es sind <strong>nicht</strong> Erstellen Sie Ihr eigenes Token und möchten Sie stattdessen, dass die Live-API eine tokenisierte URL generiert.</aside>

<p>Nachdem der Live-Job erstellt wurde, müssen Sie eine weitere Anforderung stellen, um die Master-Manifest-URLs zu generieren. Senden Sie dazu eine <code translate="No">POST</code> Anfrage zu:</p>

<pre class="line-numbers">
  <code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/<span class="bcls-input">JOB_ID</span>/authurls</code></pre>

<p>Fügen Sie den folgenden JSON als Anforderungshauptteil ein:</p>

<pre class="line-numbers">
  <code class="language-json" translate="No">{
    "ttl": <span class="bcls-input">number in seconds for time to live</span>
  }</code></pre>
</section>

<section id="Notes" class="bcls-section">
<h2>Anmerkungen</h2>

<ul>
	<li>Das <code translate="No">ttl</code> Der Wert für beide obigen Schritte sollte gleich oder größer als das DVR-Fenster sein. Andernfalls ist das DVR-Fenster auf das DVR-Fenster beschränkt <code translate="No">ttl</code> Wert</li>
	<li>Sowohl http als auch https werden unterstützt</li>
	<li>Das <code translate="No">token_name</code> muss aus 5-12 Zeichen bestehen und mit den in Akamai konfigurierten Zeichen übereinstimmen</li>
	<li><code translate="No">start_time</code> ist optional und kann sein <code translate="No">"now"</code> (Standardeinstellung) oder ein Epochenzeitwert in Sekunden</li>
	<li><code translate="No">end_time</code> ist optional und kann ein Epochenzeitwert in Sekunden sein - entweder <code translate="No">end_time</code> oder <code translate="No">ttl</code> erforderlich; falls nicht angegeben, <code translate="No">ttl</code> wird als der größere von angenommen <code translate="No">live_dvr_sliding_window_duration</code> und <code translate="No">vod_sliding_window_duration</code></li>
</ul>
</section>
</article>