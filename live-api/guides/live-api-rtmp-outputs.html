---
title: 'Live-API: RTMP-Ausgaben'
description: 'In diesem Thema wird erklärt, wie Sie RTMP mit der Live-API ausgeben können. RTMP-Ausgaben sind nützlich, wenn Sie auf eine Plattform streamen, die HLS-Livestreams nicht unterstützt.'
parent: Guides 
grandparent: Live API
---
 <h1>Diese Seite ist umgezogen - Sie werden weitergeleitet zum <a href="https://apis.support.brightcove.com/live-api/guides/live-api-rtmp-outputs.html">neuen Ort</a> in 3 Sekunden. Bitte aktualisiere deine Lesezeichen!</h1>
<script type="text/javascript">
var t = setTimeout (Funktion () { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/live-api-rtmp-outputs.html'; }, 3000);
</script>
<h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

<section class="bcls-section">
<h2 id="general_information">Allgemeine Information</h2>

<p>Beachten Sie Folgendes, um RTMP-Ausgänge zu verwenden</p>

<ul>
	<li>Sie müssen gekauft haben <strong>Veranstaltungszeiten</strong> oder ein beliebiges digitales Marketingpaket</li>
	<li>RTMP-Ausgabestunden werden den Ereignisstunden in Rechnung gestellt</li>
	<li>Sie sind auf 5 Ausgaben pro Live-Job begrenzt</li>
	<li>Sie können eine definieren <code translate="No">label</code> Hier kann das Label eine der für den Stream ausgewählten Ausgabewiedergaben auswählen. Wenn die <code translate="No">label</code> Wenn diese Option nicht festgelegt ist, wird die Ausgabe standardmäßig auf die Eingabequelle zurückgesetzt.</li>
	<li>Sie können mit Standardjobs und wiederkehrenden Ereignissen (SEP) verwendet werden.</li>
	<li>Sie können für Ereignisse oder 24/7-Streams verwendet werden.</li>
	<li>Sie können unabhängig von jedem Live-Stream gestartet und gestoppt werden.</li>
	<li>Bei SEP-Jobs, die vor der Implementierung der RTMP-Ausgabefunktion erstellt wurden, funktioniert die Funktion nicht vollständig: Auf der API wird ein Fehler angezeigt, obwohl die RTMP-Ausgabe tatsächlich erstellt wurde. Erstellen Sie für optimale Ergebnisse einen neuen SEP-Job, um die RTMP-Ausgabefunktion zu verwenden.</li>
	<li>Wenn Sie eine RTMP-Ausgabe mit einem Standardjob (nicht SEP) verwenden, wird der RTMP-Ausgabestream beendet, wenn der Job endet.</li>
  <li>RTMP-Ausgänge <strong>tun</strong> Unterstützung <code translate="No">rtmps</code> URLs, und wir empfehlen, sie zu verwenden, wenn die Social-Media-Plattform sie unterstützt. Beachten Sie auch, dass Facebook ab dem 1. Mai 2019 nur noch RTMPS zulässt.</li>
  <li>Das <strong>Nur aktuelles Format, das für RTMP-URLs unterstützt wird</strong> ist <code translate="No">rtmps://host:port/application/streamName</code>.</li>
</ul>
</section>

<section class="bcls-section">
<h2 id="notifications">Benachrichtigungen</h2>

<p>Sie können Benachrichtigungen für einrichten <code translate="No">rtmp_output_state_changed</code> Veranstaltungen. Benachrichtigungen werden für die folgenden Zustände gesendet:</p>

b<table class="bcls-table">
  <caption class="bcls-caption--table">RTMP-Ausgangszustände</caption>
  <thead class="bcls-table__head">
      <tr>
          <th>RTMP-Ausgangszustände</th>
          <th>(gemeldet für <code translate="No">rtmp_output_state_changed</code> Benachrichtigungen als <code translate="No">state</code>)</th>
      </tr>
  </thead>
  <tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">starting</code></td>
			<td>Der Stream startet.</td>
		</tr>
		<tr>
			<td><code translate="No">connected</code></td>
			<td>Der Encoder hat angeschlossen.</td>
		</tr>
		<tr>
			<td><code translate="No">Disconnected</code></td>
			<td>Der Encoder hat die Verbindung getrennt.</td>
		</tr>
		<tr>
			<td><code translate="No">error</code></td>
			<td>Der Stream konnte keine Verbindung herstellen.</td>
		</tr>
		<tr>
			<td><code translate="No">pending_deactivation</code></td>
			<td>Der Einstiegspunkt wurde zur Bereinigung vom Streaming Worker in die Warteschlange gestellt.</td>
		</tr>
		<tr>
			<td><code translate="No">deactivation_in_progress</code></td>
			<td>Der Einstiegspunkt wird vom Streaming Worker getrennt.</td>
		</tr>
		<tr>
			<td><code translate="No">cancelled</code></td>
			<td>Der Einstiegspunkt wurde abgebrochen.</td>
		</tr>
		<tr>
			<td><code translate="No">finished</code></td>
			<td>Der Einstiegspunkt wurde erfolgreich abgeschlossen.</td>
		</tr>
  </tbody>
</table>

<p>Benachrichtigungen für RTMP-Ausgänge müssen am eingestellt werden <strong><a href="/live-api/references/reference.html#operation/CreateALiveJob">Job-Level</a></strong> wenn Sie den Live-Job erstellen.</p>

<p>Um das anders zu sehen <code translate="No">state</code> Werte für RTMP-Ausgänge siehe <a href="/live-api/guides/live-api-notifications.html">Live-Benachrichtigungen</a>.</p>
</section>

<section class="bcls-section">
<h2 id="creating_rtmp_outputs">RTMP-Ausgänge erstellen</h2>

<p>Sie müssen zuerst wie gewohnt einen Live-Job erstellen und dann eine zusätzliche Anforderung zum Erstellen der RTMP-Endpunkte stellen.</p>

<p>Hinweis: Unter bestimmten Umständen wie dem Aktivieren / Deaktivieren des Jobs kann dieser API-Aufruf einen Fehler zurückgeben. In diesem Fall versuchen Sie es bitte nach einer Pause erneut.</p>

<h3>Endpunkt</h3>

<pre>
	<code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/{jobId}/rtmpouts</code></pre>

<h3>Methode</h3>

<p><code translate="No">POST</code></p>

<h3>Text anfordern</h3>

<pre class="line-numbers">
	<code class="language-json" translate="No">{
		"url": "rtmps://host:port/application/streamName",
		"output_label": "480p"
	}</code></pre>

<table class="bcls-table">
	<caption class="bcls-caption--table">Body Fields anfordern</caption>
	<thead class="bcls-table__head">
		<tr>
			<th>Feldname</th>
			<th>Benötigt</th>
			<th>Typ</th>
			<th>Beschreibung</th>
		</tr>
	</thead>
	<tbody class="bcls-table__body">
		<tr>
			<td><code translate="No">url</code></td>
			<td>Ja</td>
			<td>Schnur</td>
			<td>Die URL für die RTMP-Ausgabe - Beispiel <code translate="No">rtmp://live-api-s.facebook.com:80/rtmp/my_stream</code></td>
		</tr>
		<tr>
			<td><code translate="No">output_label</code></td>
			<td>nein</td>
			<td>Schnur</td>
			<td>Die Bezeichnung der Jobausgabe, die als Quelle für die RTMP-Ausgabe verwendet werden soll. Lassen Sie diesen Parameter weg, um stattdessen einfach den RTMP-Eingang zu verwenden.</td>
		</tr>
	</tbody>
</table>

<h3>Beispielantwort</h3>

<pre class="line-numbers">
	<code class="language-json" translate="No">{
		"host": "live-api-s.facebook.com",
		"port": 80,
		"application": "rtmp",
		"streamName": "my_stream",
		"rtmp_out_id": "asdfg-lkjh"
	}</code></pre>
</section>

<section class="bcls-section">
<h2 id="get_rtmp_outputs">Holen Sie sich RTMP-Ausgaben</h2>

<h3>Endpunkt</h3>

<pre>
	<code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/{jobId}/rtmpouts</code></pre>

<h3>Methode</h3>

<p><code translate="No">GET</code></p>

<h3>Beispielantwort</h3>

<pre class="line-numbers">
	<code class="language-json" translate="No">[
		{
			"rtmp_out_id": "asdfg-lkjh",
			"stream_start": 1538746255247,
			"connection_info": {
				"host": "a.rtmp.youtube.com",
				"port": 1935,
				"application": "live2",
				"streamName": "my_stream",
				"sessionStatus": "Active"
			}
		}
	]</code></pre>
</section>

<section class="bcls-section">
<h2 id="stop_rtmp_output">Stoppen Sie eine RTMP-Ausgabe</h2>

<h3>Endpunkt</h3>

<pre>
	<code class="language-http" translate="No">https://api.bcovlive.io/v1/jobs/{jobId}/rtmpouts/{rtmp_out_id}/stop</code></pre>

<h3>Methode</h3>

<p><code translate="No">PUT</code></p>

<aside class="bcls-aside bcls-aside--information">Beachten Sie, dass der Job mindestens einmal gestartet werden muss, um die <code translate="No">job_id</code>.</aside>

<h3>Beispielantwort</h3>

<pre class="line-numbers">
	<code class="language-json" translate="No">{
		"message": "RTMP out asdfg-lkjh deleted successfully"
	}</code></pre>
</section>
</article>