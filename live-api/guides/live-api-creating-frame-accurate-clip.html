---
title: 'Live-API: Erstellen eines bildgenauen Clips'
parent: Guides 
grandparent: Live API
---
 <h1>Diese Seite ist umgezogen - Sie werden weitergeleitet zum <a href="https://apis.support.brightcove.com/live-api/guides/live-api-creating-frame-accurate-clip.html">neuen Ort</a> in 3 Sekunden. Bitte aktualisiere deine Lesezeichen!</h1>
<script type="text/javascript">
var t = setTimeout (Funktion () { window.location.href = 'https://apis.support.brightcove.com/live-api/guides/live-api-creating-frame-accurate-clip.html'; }, 3000);
</script>
<article class="bcls-article">
  <h1>Live-API: Erstellen eines rahmengenauen Clips</h1>
  <summary>In diesem Tutorial erfahren Sie, wie Sie mithilfe der Live-API einen Live-Job erstellen und anschließend einen rahmengenauen Clip daraus erstellen.</summary>




<section class="bcls-section">
<h2 id="Overview">Überblick</h2>
<!-- <figure class="bcls-figure">
        <img src="/assets/images/live-api/18699/block-diagram-small.png" alt="general-block-diagram" title="Block diagram">
        <figcaption class="bcls-caption--image">Block Diagram</figcaption>
      </figure> -->

<p>In diesem Lernprogramm wird auf API-Ebene erläutert, wie Sie einen Live-Streaming-Job in erstellen <a href="/">Brightcove live</a> und erstellen Sie dann einen rahmengenauen Clip daraus.</p>

<p>Beachten Sie, dass für das rahmengenaue Abschneiden Ihr Encoder SMPTE-Timecodes senden muss.</p>

<p>Dieses Tutorial verwendet <a translate="No" href="https://general.support.brightcove.com/developer/concepts-set-curl.html">curl,</a> um die API-Anfragen zu stellen, aber Sie können sie stattdessen problemlos in <a translate="No" href="https://apis.support.brightcove.com/general/use-insomnia-api-requests.html">Insomnia</a>, <a translate="No" href="https://apis.support.brightcove.com/general/use-postman-api-requests.html">Postman</a> oder anderen REST-Clients erstellen.</p>
</section>

<section class="bcls-section">
<h2 id="create_a_live_job">Erstellen Sie einen Live-Job</h2>

<p>Zuerst werden wir einen Live-Job erstellen. Sie benötigen eine <code translate="No">API-KEY</code> für die Live-API. Wenn Sie dies nicht tun und Interesse an einem Zugang haben, wenden Sie sich bitte an Ihren Account Manager.</p>

<ol class="bcls-tasklist">
	<li>Wir gehen davon aus, dass Sie bereits ein Brightcove-Konto haben und dass Sie Ihren API-KEY haben. Nennen wir es <code translate="No">bcov-live-api-key</code></li>
	<li>
	<p>Kopieren Sie Folgendes und fügen Sie es ein <span translate="No">Locken</span> Befehl in einen Texteditor:</p>

	<pre class="line-numbers">
  <code class="language-bash" translate="No">curl -X POST \
    https://api.bcovlive.io/v1/jobs \
    -H 'Content-Type: application/json' \
    -H 'x-api-key: {{bcov-live-api-key}}' \
    -d '{
      "live_stream": true,
      "region": "{{closest-region-encoder}}",
      "outputs": [{
        "label": "hls360p",
        "live_stream": true,
        "height": 360,
        "video_bitrate": 365,
        "segment_seconds": 6,
        "keyframe_interval": 60
      },
      {
        "label": "hls432p",
        "live_stream": true,
        "height": 432,
        "video_bitrate": 730,
        "segment_seconds": 6,
        "keyframe_interval": 60
      },
      {
        "label": "hls540p",
        "live_stream": true,
        "height": 540,
        "video_bitrate": 2000,
        "segment_seconds": 6,
        "keyframe_interval": 60
      },
      {
        "label": "hls720p3M",
        "live_stream": true,
        "height": 540,
        "video_bitrate": 2000,
        "segment_seconds": 6,
        "keyframe_interval": 60
      },
      {
        "label": "hls720p4.5M",
        "live_stream": true,
        "height": 540,
        "video_bitrate": 4500,
        "segment_seconds": 6,
        "keyframe_interval": 60
      }]
    }'
  </code></pre>
	</li>
	<li>
	<p><strong>Ersetzen:</strong></p>

	<ul>
		<li><code translate="No">{{closest-region-encoder}}</code> Wenn Sie Ihrem Encoder am nächsten zur Verfügung stehen, sehen Sie Ihrem Encoder die <a href="/live-api/getting-started/overview-brightcove-live-api.html#Support_aws_regions">nächstgelegenen verfügbaren Regionen</a> an. Beispielsweise: <code translate="No">us-west-2</code></li>
		<li><code translate="No">{{bcov-live-api-key}}</code> mit Ihrem Brightcove Live-API-Schlüssel. Beispielsweise: <code translate="No">abcdfeg-this-is-a-fake-api-key-FgJajjasd12hJHsZ</code></li>
	</ul>
	</li>
	<li>Nachdem Sie diese Änderungen vorgenommen haben, kopieren Sie den Code und fügen Sie ihn in Terminal oder eine andere von Ihnen verwendete Befehlszeilen-App ein und führen Sie ihn aus.</li>
	<li>
	<p>Die Antwort sollte ungefähr so lauten:</p>

	<pre class="line-numbers">
  <code class="language-json" translate="No">{
      "id": "3b6871bf2f344acaa6b397d09b476018",
      "outputs": [... removed for simplicity ...],
      "stream_url": "rtmp://ep1-usw2.bcovlive.io:1935/3b6871bf2f344acaa6b397d09b476018",
      "stream_name": "alive",
      "static": false,
      "encryption": {},
      "playback_url": "https://bcovlive-a.akamaihd.net/3b6871bf2f344acaa6b397d09b476018/us-west-2/NA/playlist.m3u8",
      "playback_url_dvr": "https://bcovlive-a.akamaihd.net/3b6871bf2f344acaa6b397d09b476018/us-west-2/NA/playlist_dvr.m3u8"
  }</code></pre>
	</li>
</ol>

<p>Diese Jobs erstellen 5 Wiedergaben <strong>basierend</strong> auf <a href="https://developer.apple.com/documentation/http_live_streaming/hls_authoring_specification_for_apple_devices">Apple-Empfehlungen</a>.</p>
</section>

<section class="bcls-section">
<h2 id="Configure_your_encoder">Konfigurieren Sie Ihren Encoder</h2>

<p>Die hier gezeigten Schritte setzen eine voraus <a href="https://www.elemental.com/products/aws-elemental-live">Elemental Live Box</a> Encoder, der zum Testen der Schritte für dieses Tutorial verwendet wurde. Wenn Sie einen anderen Encoder haben, sollten die Einstellungen ähnlich sein.</p>

<p>Die wichtigsten Einstellungen für diesen Fall sind:</p>

<ul>
	<li>Konfigurieren Sie die Timecode-Quelle als "Systemuhr".</li>
	<li>Stellen Sie "OnFi Timecode Frequenz" auf 1</li>
	<li>Überprüfen Sie "Time Code Insertion" im Video</li>
	<li>Wärmstens empfohlen: Framerate = Quelle folgen</li>
</ul>

<p>Dies ist die Konfiguration, die wir für dieses Experiment verwendet haben:</p>

<figure class="bcls-figure"><img alt="elemental-live-job-config" title="Elemental live config" src="/assets/images/live-api/18699/elemental-live-job-config-v1-small.png" />
<figcaption class="bcls-caption--image">Elemental Live-Konfiguration</figcaption>
</figure>
</section>

<section class="bcls-section">
<h2 id="test_playback">Testen Sie die Wiedergabe</h2>

<p>Sie können dies verwenden <a href="https://videojs.github.io/videojs-contrib-hls/">VideoJS HLS-Demoseite</a> Um die Wiedergabe zu testen, fügen Sie einfach den Wert ein <code translate="No">playback_url</code> in der Antwort des Erstellungsjobs zurückgegeben:</p>

<figure class="bcls-figure"><img alt="videojs-hls-playback" title="VideoJS HLS playback demo page" src="/assets/images/live-api/18699/videojs-hls-playback-small.png" />
<figcaption class="bcls-caption--image">Demo-Seite zur VideoJS HLS-Wiedergabe</figcaption>
</figure>
</section>

<section class="bcls-section">
<h2 id="create_frame_accurate_clip">Erstellen Sie einen rahmengenauen Clip</h2>

<p>In diesem Tutorial wird davon ausgegangen, dass Sie den Clip an Ihre Video Cloud-Bibliothek senden. Wenn Sie den Clip an einen S3-Bucket oder einen anderen Speicherort senden, ist der Vorgang derselbe - es gibt nur geringfügige Unterschiede im Anforderungshauptteil für die API-Anforderungen.</p>

<section class="bcls-subsection">
<h3 id="video-cloud-credentials">Referenzen</h3>

<p>Wenn Sie in Ihrem Live-Konto keine Anmeldeinformationen für Video Cloud erstellt haben, können Sie die folgenden Schritte ausführen. Dies ist eine einmalige Operation.</p>

<p>Wenn Sie noch keine Client-Anmeldeinformationen für die dynamische Aufnahme von Videos in die Video Cloud haben, müssen Sie diese erstellen. Sehen <a href="https://studio.support.brightcove.com/admin/managing-api-authentication-credentials.html">Verwalten von API-Authentifizierungsanmeldeinformationen</a> Anweisungen dazu finden Sie in Studio.</p>

<ol class="bcls-tasklist">
	<li>Kopieren Sie den folgenden Curl-Befehl in einen Texteditor:
	<pre class="line-numbers">
<code class="language-bash" translate="No">curl -X POST \ https://api.bcovlive.io/v1/credentials \ -H 'Content-Type: application/json' \ -H 'x-api-key: {{bcov-live-api-key}}' \ -d '{ "credential_default_for_type": true, "credential_label": "Video_Cloud_Uploads", "credential_private": "{{client_secret}}", "credential_public": "{{client_id}}", "credential_type": "videocloud" }' </code></pre>
	</li>
	<li>
	<p><strong>Ersetzen:</strong></p>

	<ul>
		<li><code translate="No">{{bcov-live-api-key}}</code> mit Ihrem Live-API-Schlüssel</li>
		<li><code translate="No">{{client_secret}}</code> mit Ihrem Kundengeheimnis</li>
		<li><code translate="No">{{client_id}}</code> mit Ihrer Kunden-ID</li>
	</ul>
	</li>
	<li>Kopieren Sie den bearbeiteten Befehl, fügen Sie ihn in Terminal oder Ihre Befehlszeilen-App ein und führen Sie ihn aus.</li>
	<li>Die Antwort sollte ungefähr so aussehen:
	<pre class="line-numbers">
  <code class="language-json" translate="No">{
    "credential_id": "1e0180330b724dfbbcaf6b28b6c5d517",
    "user_id": "c2691d4d039040be96c190a949d754a7",
    "credential_label": "Video_Cloud_Uploads"
  }</code></pre>
	</li>
</ol>
</section>

<section class="bcls-subsection">
<h3 id="create_clip">Erstellen Sie den Clip</h3>

<p>Sobald Sie Ihre Video Cloud-Anmeldeinformationen haben, können Sie einen Clip erstellen.</p>

<ol class="bcls-tasklist">
	<li>Kopieren Sie die Curl-Anfrage unten und fügen Sie sie in einen Texteditor ein:
	<pre class="line-numbers">
  <code class="language-bash" translate="No">curl -X POST \
    https://api.bcovlive.io/v1/vods \
    -H 'Content-Type: application/json' \
    -H 'x-api-key: {{bcov-live-api-key}}' \
    -d '{
      "live_job_id":"{{bcov-live-job-id}}",
      "outputs":[{
          "label": "Trim by SMPTE TC 17:33:11:12 to 17:34:00:00",
        "stream_start_timecode": "{{timecode-in}}",
        "stream_end_timecode": "{{timecode-out}}",
          "videocloud":{"ingest":{"capture-images":true},"video":{"name":"test-frame-accurate-clip"}},
          "credentials": "{{video-cloud-credentials}}"
      }]
  }'</code></pre>
	</li>
	<li>
	<p><strong>Ersetzen:</strong></p>

	<ul>
		<li><code translate="No">{{bcov-live-api-key}}</code> mit Ihrem Brightcove Live-API-Schlüssel. Beispielsweise: <code translate="No">abcdfeg-this-is-a-fake-api-key-FgJajjasd12hJHsZ</code></li>
		<li><code translate="No">{{bcov-live-job-id}}</code> mit der Job-ID in der Antwort auf Ihre Anfrage zum Erstellen des Live-Jobs. In unserem Beispiel wäre dieser Wert <code translate="No">3b6871bf2f344acaa6b397d09b476018</code> - Deiner wird anders sein.</li>
		<li><code translate="No">{{timecode-in}}</code> und <code translate="No">{{timecode-out}}</code> sollten Werte sein, die in Ihrem Live-Stream sinnvoll sind (vorhanden sind). In unserem Beispiel haben wir verwendet: <code translate="No">17:33:11:12</code> und <code translate="No">17:34:00:00</code></li>
		<li><code translate="No">{{video-cloud-credentials}}</code> mit dem Etikett für Ihre Video Cloud-Anmeldeinformationen. Wenn Sie sie noch nicht hatten und sie mit den obigen Schritten erstellt hätten, wäre dies <code translate="No">Video_Cloud_Uploads</code></li>
	</ul>
	</li>
	<li>Kopieren Sie den bearbeiteten Code, fügen Sie ihn in Terminal oder Ihre Befehlszeilen-App ein und führen Sie ihn aus.</li>
	<li>Die Antwort sollte ungefähr so aussehen:
	<pre class="line-numbers">
  <code class="language-json" translate="No">{
      "vod_jobs": [
          {
              "jvod_id": "0b14a4ba326d4dd08f15053ca2a403b7",
              "label": "Trim by SMPTE Timecodes"
          }
      ],
      "live_job_id": "3b6871bf2f344acaa6b397d09b476018"
  }</code></pre>
	</li>
</ol>

<p>Wir haben die Genauigkeit des Experiments getestet, das wir den Clip heruntergeladen haben, und haben die <a href="https://www.adobe.com/products/premiere.html">Adobe-Premiere verwendet,</a> um den 1. und letzten Frame zu überprüfen, da der Timecode überlagert ist, reicht eine einfache visuelle Überprüfung aus, um die Genauigkeit an Ein- und Ausgabepunkten zu bestätigen:</p>

<figure class="bcls-figure"><img alt="clip-accuracy-in" title="Visual clip accuracy test - in" src="/assets/images/live-api/18699/clip-accuracy-in-small.png" />
<figcaption class="bcls-caption--image">Visueller Clip-Genauigkeitstest - in</figcaption>
</figure>

<figure class="bcls-figure"><img alt="clip-accuracy-out" title="Visual clip accuracy test - out" src="/assets/images/live-api/18699/clip-accuracy-out-small.png" />
<figcaption class="bcls-caption--image">Visueller Clip-Genauigkeitstest</figcaption>
</figure>

<p>&nbsp;</p>
</section>
</section>
</article>